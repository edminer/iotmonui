<!DOCTYPE html>
<html>
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>IoT Monitor Log</title>

   <!-- the following are need for DataTables -->
   <script language=JavaScript  src="https://code.jquery.com/jquery-1.12.3.js"></script>
   <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css"/>
   <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
   <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js"></script>

<script>
$(document).ready(function() {
   var table = $('.datatable').DataTable( {
      responsive: true,
      select: true,
      paging: false,
      dom: 'BilfrtBip',
      "order": [],
      buttons: [ 'copy', 'csv', 'excel' ]
   } );
   //new $.fn.dataTable.FixedHeader( table );
} );
</script>

</head>
<body>

<h3>IoT Monitor - Device Monitoring Log</h3>

{% if rows %}
   <table class="datatable display compact nowrap" cellspacing="0" width="100%">

   <thead>
   <tr><th>LogDate</th><th>IPAddr</th><th>Descr</th><th>PreviousState</th><th>CurrentState</th></tr>
   </thead>

   <tbody>
   {% for row in rows %}
      <tr><td>{{ row.LogDate }}</td><td>{{ row.IPAddr }}</td><td>{{ row.Descr }}</td><td>{{ row.PreviousState }}</td><td>{{ row.CurrentState }}</td></tr>
   {% endfor %}
   </tbody>

   </table>
{% else %}
    <p>No device log records.</p>
{% endif %}

<p><a href="/iotmon">Back</a></p>

</body>
</html>
